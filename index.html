<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harry Beesley-Gilman</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Gochi+Hand&display=swap">
    <script>
        async function sendMessage() {
            const userMessage = document.getElementById('questionBox').value;  // <-- Change here
            try {
                const response = await fetch('/ask', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    body: `user_message=${encodeURIComponent(userMessage)}`
                });
                const data = await response.json();
                document.getElementById('answerBox').innerText = data.message;  // <-- Change here
            } catch (error) {
                console.error('Error:', error);
            }
        }
    </script>
    <style>
        /* Styles for body and layout */
        body {
            font-family: 'Gochi Hand', cursive;
            margin: 0;
            padding: 0;
            position: relative;
            height: 100vh;
            background-color: #f2ebf7;
        }


        /* Styles for cartoon */
        #Cartoon {
            width: 380px;
            height: 550px;
            position: absolute;
            top: 10%;
            left: 34%;
        }

        #Cello {
            width: 70px;
            height: 130px;
            position: absolute;
            top: 1%;
            left: 3%;
            transform: rotate(20deg); 
        }
        #Virginia {
            width: 130px;
            height: 65px;
            position: absolute;
            top: 8%;
            left: 13%;
            transform: rotate(0deg);
        }
        #Compass {
            width: 180px;
            height: 180px;
            position: absolute;
            top: 53%;
            left: 61%;
            transform: rotate(15deg); 
        }

        #Record {
            z-index: 1;
            width: 180px;
            height: 180px;
            position: absolute;
            top: 53%;
            left: 80%;
            transform: rotate(-15deg); /* this will tilt it 15 degrees */
        }

        #Resume {
            z-index: 1;
            width: 180px;
            height: 180px;
            position: absolute;
            top: 21%;
            left: 62%;
            transform: rotate(15deg); /* this will tilt it 15 degrees */
        }

        #Camera {
            z-index: 2;
            width: 250px;
            height: 200px;
            position: absolute;
            top: 20%;
            left: 77%;
            transform: rotate(-15deg); 
        }


        #Oar {
            width: 70px;
            height: 90px;
            position: absolute;
            top: 9%;
            left: 29%;
            transform: rotate(-90deg); 
        }


        .Explanation {
            position: absolute;
            top: 80%;
            left: 65%;
            text-align: left;
            font-size: 20px;
        }
        #Resume, #Record, #Compass, #Camera {
            transition: transform 0.3s, box-shadow 0.3s; 
            }

        #Record:hover, #Resume:hover, #Compass:hover, #Camera:hover{
            transform: scale(1.1); 
            box-shadow: 0px 5px 15px rgba(0,0,0,0.3); 
            }


        .pageTitle {
            position: relative;
            left: 20%;
            top: 0%;
            font-size: 45px;
            color: #185;
            margin: 20px 0;
        }       

        .indent {
            text-indent: 70px;
        }

        .chatContainer {
            font-family: 'Gochi Hand', cursive;
            position: absolute;
            font-size: 20px;

            top: 25%;
            left: 3%; 
            height: 65%;
            width: 28%; 
            background-color: #fff; 
            padding: 10px; 
            border-color: #118855;
            border-radius: 1px; 
            box-shadow: 0px 0px 3px rgba(0,0,0,0.2);
            background-color: #118855;
            color: #185;
            display: flex;
            flex-direction: column; 
        }

        #questionBox, #answerBox {
            font-family: 'Gochi Hand', cursive;
            flex: 1;  /
            padding: 8px;
            font-size: 20px;

            box-sizing: border-box;
            border-color: #185;
            border-radius: 4px;
            border: 1px solid #ccc;
            color: #185;
            margin-bottom: 10px;
            background-color: #f2ebf7;
            overflow-y: auto; 
        }

        #answerBox {
            background-color: #e9e9e9; 
    }

    button {
    font-family: 'Gochi Hand', cursive;
    width: 100%; 
    padding: 10px;
    font-size: 20px;
    background-color: #FAF7D6;
    color: #185;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

    </style>
</head>

<body>
    <img id="Cartoon" src="./pictures/cartoon.png" alt="cartoon pic of me">

    <img id="Cello" src="./pictures/cello.png">
    <a href="pics.html">
    <img id="Camera" src="./pictures/camera.png">
    </a>
    <a href="albums.html">
    <img id="Record" src="./pictures/record.png">
    </a>
    <a href="where.html">
    <img id="Compass" src="./pictures/compass.png">
    </a>
    <a href="resume.html">
    <img id="Resume" src="./pictures/resume.png">
    </a>

    <img id="Oar" src="./pictures/Oar.png">
    <img id="Virginia" src="./pictures/Virginia.png">
    <h1 class="pageTitle">Harry Beesley-Gilman: Student at Dartmouth College</h1>
    </div>
    <h2 class="Explanation">Click the 4 icons above to learn a bit about me.</h2>
    </div>
    
<!-- HTML -->

    <!-- Chat Box -->
    <div class="chatContainer">
        <textarea id="questionBox" placeholder="Ask me anything! Type your question here. Note: You are speaking with an AI model. Hallucinations are quite possible. Take everything you read with a grain of salt..."></textarea>
        <div id="answerBox">Answer will be displayed here...</div>
        <button onclick="sendMessage()">Ask Question</button>
    </div>


</body>
</html>
